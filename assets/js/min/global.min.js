/*!
 * SVGInjector v2.1.3 - Fast, caching, dynamic inline SVG DOM injection library
 * https://github.com/flobacher/SVGInjector2
 * forked from:
 * https://github.com/iconic/SVGInjector
 *
 * Copyright (c) 2015 flobacher <flo@digital-fuse.net>
 * @license MIT
 *
 * original Copyright (c) 2014 Waybury <hello@waybury.com>
 * @license MIT
 */
!function(e,t){"use strict";var r=function(){function r(e){r.instanceCounter++,this.init(e)}var n="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xlink",s="sprite",l="sprite--",a=["sprite"],o="icon",c,u,f,p,d,v,g,m,h,b,y,S,A,C,x,w,k,N,j,E,I,V,F,G,T,O,q,L,M,R;return f=[],r.instanceCounter=0,r.prototype.init=function(r){r=r||{},c={},v={},v.isLocal="file:"===e.location.protocol,v.hasSvgSupport=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),u={count:0,elements:[]},p={},d={},d.evalScripts=r.evalScripts||"always",d.pngFallback=r.pngFallback||!1,d.svgFallbackDir=r.svgFallbackDir||!1,d.onlyInjectVisiblePart=r.onlyInjectVisiblePart||!0,d.keepStylesClass=void 0===r.keepStylesClass?"":r.keepStylesClass,d.spriteClassName=void 0===r.spriteClassName?"sprite":r.spriteClassName,d.spriteClassIdName=void 0===r.spriteClassIdName?"sprite--":r.spriteClassIdName,d.removeStylesClass=void 0===r.removeStylesClass?"icon":r.removeStylesClass,d.removeAllStyles=void 0!==r.removeAllStyles&&r.removeAllStyles,d.fallbackClassName=void 0===r.fallbackClassName?a:r.fallbackClassName,d.prefixStyleTags=void 0===r.prefixStyleTags||r.prefixStyleTags,d.spritesheetURL=void 0!==r.spritesheetURL&&""!==r.spritesheetURL&&r.spritesheetURL,d.prefixFragIdClass=d.spriteClassIdName,d.forceFallbacks=void 0!==r.forceFallbacks&&r.forceFallbacks,d.forceFallbacks&&(v.hasSvgSupport=!1),I(t.querySelector("html"),"no-svg",v.hasSvgSupport),v.hasSvgSupport&&void 0===r.removeStylesClass&&E(d.removeStylesClass)},r.prototype.inject=function(e,t,r){if(void 0!==e.length){var n=0,i=this;q.call(e,function(s){i.injectElement(s,function(i){r&&"function"==typeof r&&r(i),t&&e.length===++n&&t(n)})})}else e?this.injectElement(e,function(n){r&&"function"==typeof r&&r(n),t&&t(1),e=null}):t&&t(0)},R=r.prototype.injectElement=function(e,t){var r=e.getAttribute("data-src")||e.getAttribute("src"),n;if(!r){if(!d.spritesheetURL)return;if(""===(n=x(e)))return;r=d.spritesheetURL+"#"+n}e.setAttribute("data-src",r);var i=r.split("#");1===i.length&&i.push("");var s;if(!/\.svg/i.test(r))return void t("Attempted to inject a file with a non-svg extension: "+r);if(!v.hasSvgSupport){var l=e.getAttribute("data-fallback")||e.getAttribute("data-png");return void(l?(e.setAttribute("src",l),t(null)):d.pngFallback?(i.length>1&&i[1]?(s=i[1]+".png",T(d.fallbackClassName)?g(e,i[1],d.fallbackClassName):G(d.fallbackClassName)?d.fallbackClassName(e,i[1]):"string"==typeof d.fallbackClassName?O(e,d.fallbackClassName):e.setAttribute("src",d.pngFallback+"/"+s)):(s=r.split("/").pop().replace(".svg",".png"),e.setAttribute("src",d.pngFallback+"/"+s)),t(null)):t("This browser does not support SVG and no PNG fallback was defined."))}if(T(d.fallbackClassName)&&m(e,i[1],d.fallbackClassName),-1!==u.elements.indexOf(e))return void console.warn("race",e);u.elements.push(e),j(t,r,e)},r.prototype.getEnv=function(){return v},r.prototype.getConfig=function(){return d},g=function(e,t,r){var n=void 0===r?a:r.slice(0);q.call(n,function(e,r){n[r]=e.replace("%s",t)}),O(e,n)},m=function(e,t,r){r=void 0===r?a.slice(0):r.slice(0);var n,i,s=e.getAttribute("class");void 0!==s&&null!==s&&(i=s.split(" "))&&(q.call(r,function(e){e=e.replace("%s",t),(n=i.indexOf(e))>=0&&(i[n]="")}),e.setAttribute("class",F(i.join(" "))))},b=function(e,t,r,n){var i=0;return e.textContent=e.textContent.replace(/url\(('|")*#.+('|")*(?=\))/g,function(e){return i++,e+"-"+t}),i},h=function(e,t){var r=[{def:"linearGradient",attrs:["fill","stroke"]},{def:"radialGradient",attrs:["fill","stroke"]},{def:"clipPath",attrs:["clip-path"]},{def:"mask",attrs:["mask"]},{def:"filter",attrs:["filter"]},{def:"color-profile",attrs:["color-profile"]},{def:"cursor",attrs:["cursor"]},{def:"marker",attrs:["marker","marker-start","marker-mid","marker-end"]}],n,s,l,a,o,c,u,f,p,d,v,g,m,h,b,y;q.call(r,function(r){for(s=e.querySelectorAll(r.def+"[id]"),a=0,l=s.length;a<l;a++){for(n=s[a].id+"-"+t,f=r.attrs,d=0,p=f.length;d<p;d++)for(o=e.querySelectorAll("["+f[d]+'="url(#'+s[a].id+')"]'),u=0,c=o.length;u<c;u++)o[u].setAttribute(f[d],"url(#"+n+")");for(v=e.querySelectorAll("[*|href]"),h=[],m=0,g=v.length;m<g;m++)v[m].getAttributeNS(i,"href").toString()==="#"+s[a].id&&h.push(v[m]);for(y=0,b=h.length;y<b;y++)h[y].setAttributeNS(i,"href","#"+n);s[a].id=n}})},y=function(e,t,r){var n;void 0===r&&(r=["id","viewBox"]);for(var i=0;i<e.attributes.length;i++)n=e.attributes.item(i),r.indexOf(n.name)<0&&t.setAttribute(n.name,n.value)},S=function(e){var r=t.createElementNS(n,"svg");return q.call(e.childNodes,function(e){r.appendChild(e.cloneNode(!0))}),y(e,r),r},A=function(e,t,r){var n=r.getAttribute("data-src").split("#"),i,s,l,a,o,c=e.textContent,u="",f,p=function(e,t,r){r[t]="."+l+" "+e},d="";if(n.length>1)s=n[1],l=s+"-"+t,i=new RegExp("\\."+s+" ","g"),e.textContent=c.replace(i,"."+l+" ");else{for(a=n[0].split("/"),l=a[a.length-1].replace(".svg","")+"-"+t,i=new RegExp("([\\s\\S]*?){([\\s\\S]*?)}","g");null!==(o=i.exec(c));){f=o[1].trim().split(", "),f.forEach(p);u+=f.join(", ")+"{"+o[2]+"}\n"}e.textContent=u}r.setAttribute("class",r.getAttribute("class")+" "+l)},C=function(e){var t=e.getAttribute("class");return t?t.trim().split(" "):[]},x=function(e){var t=C(e),r="";return q.call(t,function(e){e.indexOf(d.spriteClassIdName)>=0&&(r=e.replace(d.spriteClassIdName,""))}),r},w=function(e,t,r){var s,l=null,a,o,c,u,f=!1,p=!1,d=null,v;if(void 0===r)s=l=t.cloneNode(!0),l.getAttribute("width")||t.getAttribute("width")||(p=!0);else if(!(s=t.getElementById(r)))return void console.warn(r+" not found in svg");if(o=s.getAttribute("viewBox"),a=o.split(" "),!l){if(s instanceof SVGSymbolElement)l=S(s),p=f=!0;else if(s instanceof SVGViewElement){if(d=null,e.onlyInjectVisiblePart){var g='*[width="'+a[2]+'"][height="'+a[3]+'"]';c={},0===Math.abs(parseInt(a[0]))?g+=":not([x])":(c.x=a[0],g+='[x="'+a[0]+'"]'),0===Math.abs(parseInt(a[1]))?g+=":not([y])":(c.y=a[1],g+='[y="'+a[1]+'"]'),v=t.querySelectorAll(g),v.length>1&&console.warn("more than one item, with the matching viewbox found!",v),d=v[0]}if(d&&d instanceof SVGSVGElement){l=d.cloneNode(!0);for(var m in c)"width"!==m&&"height"!==m&&l.removeAttribute(m)}else if(d&&d instanceof SVGUseElement){var h=t.getElementById(d.getAttributeNS(i,"href").substr(1));l=S(h),o=h.getAttribute("viewBox"),a=o.split(" "),p=f=!0}else console.info((e.onlyInjectVisiblePart?"symbol referenced via view"+r+" not found":"option.onlyInjectVisiblePart: false")+" -> clone complete svg!"),p=f=!0,l=t.cloneNode(!0)}u=C(l);var b=e.prefixFragIdClass+r;u.indexOf(b)<0&&(u.push(b),l.setAttribute("class",u.join(" ")))}return f&&l.setAttribute("viewBox",a.join(" ")),p&&(l.setAttribute("width",a[2]+"px"),l.setAttribute("height",a[3]+"px")),l.setAttribute("xmlns",n),l.setAttribute("xmlns:xlink",i),l},k=function(e,t,r,n){f[e]=f[e]||[],f[e].push({callback:r,fragmentId:t,element:n,name:name})},N=function(e){for(var t,r=0,n=f[e].length;r<n;r++)!function(r){setTimeout(function(){t=f[e][r],V(e,t.fragmentId,t.callback,t.element,t.name)},0)}(r)},j=function(t,r,n){var i,s,l,a,o;if(i=r.split("#"),s=i[0],l=2===i.length?i[1]:void 0,void 0!==l&&(o=s.split("/"),a=o[o.length-1].replace(".svg","")),void 0!==c[s])c[s]instanceof SVGSVGElement?V(s,l,t,n,a):k(s,l,t,n,a);else{if(!e.XMLHttpRequest)return t("Browser does not support XMLHttpRequest"),!1;c[s]={},k(s,l,t,n,a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(4===u.readyState){if(404===u.status||null===u.responseXML)return t("Unable to load SVG file: "+s),!1;if(!(200===u.status||v.isLocal&&0===u.status))return t("There was a problem injecting the SVG: "+u.status+" "+u.statusText),!1;if(u.responseXML instanceof Document)c[s]=u.responseXML.documentElement;else if(DOMParser&&DOMParser instanceof Function){var e;try{var n=new DOMParser;e=n.parseFromString(u.responseText,"text/xml")}catch(t){e=void 0}if(!e||e.getElementsByTagName("parsererror").length)return t("Unable to parse SVG file: "+r),!1;c[s]=e.documentElement}N(s)}},u.open("GET",s),u.overrideMimeType&&u.overrideMimeType("text/xml"),u.send()}},E=function(e){var r="svg."+e+" {fill: currentColor;}",n=t.head||t.getElementsByTagName("head")[0],i=t.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=r:i.appendChild(t.createTextNode(r)),n.appendChild(i)},I=function(e,t,r){r?e.className.replace(t,""):e.className+=" "+t},V=function(t,r,n,i,s){var l,a,o,f,v,g,m,S,x;if(void 0===(l=w(d,c[t],r))||"string"==typeof l)return g=i.getAttribute("data-fallback-svg"),g=!(!g&&!d.svgFallbackDir)&&d.svgFallbackDir+"/"+r+".svg",g?(i.setAttribute("data-src",g),u.elements.splice(u.elements.indexOf(i),1),R(i,n)):n(l),!1;l.setAttribute("role","img"),q.call(l.children||[],function(e){e instanceof SVGDefsElement||e instanceof SVGTitleElement||e instanceof SVGDescElement||e.setAttribute("role","presentation")}),v=i.getAttribute("aria-hidden")||l.getAttribute("aria-hidden"),v?(l.setAttribute("aria-hidden","true"),S=l.querySelector("title"),x=l.querySelector("desc"),S&&l.removeChild(S),x&&l.removeChild(x)):(f=L("desc",l,i,r,!1),o=L("title",l,i,r,!1),(f.length>0||o.length>0)&&(m=o+" "+f,l.setAttribute("aria-labelledby",m.trim()))),y(i,l,["class"]);var k=[].concat(l.getAttribute("class")||[],"injected-svg",i.getAttribute("class")||[]).join(" ");l.setAttribute("class",F(k)),h(l,u.count,s),l.removeAttribute("xmlns:a");for(var N=l.querySelectorAll("script"),j=[],E,I,V=0,G=N.length;V<G;V++)(I=N[V].getAttribute("type"))&&"application/ecmascript"!==I&&"application/javascript"!==I||(E=N[V].innerText||N[V].textContent,j.push(E),l.removeChild(N[V]));if(j.length>0&&("always"===d.evalScripts||"once"===d.evalScripts&&!p[t])){for(var T=0,O=j.length;T<O;T++)new Function(j[T])(e);p[t]=!0}var M=l.querySelectorAll("style");q.call(M,function(e){var t=C(l),r=!0;(t.indexOf(d.removeStylesClass)>=0||d.removeAllStyles)&&t.indexOf(d.keepStylesClass)<0?e.parentNode.removeChild(e):(b(e,u.count,l,s)>0&&(r=!1),d.prefixStyleTags&&(A(e,u.count,l,s),r=!1),r&&(e.textContent+=""))}),i.parentNode.replaceChild(l,i),delete u.elements[u.elements.indexOf(i)],u.count++,n(l)},F=function(e){e=e.split(" ");for(var t={},r=e.length,n=[];r--;)t.hasOwnProperty(e[r])||(t[e[r]]=1,n.unshift(e[r]));return n.join(" ")},G=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},T=function(e){return"[object Array]"===Object.prototype.toString.call(e)},O=function(e,t){var r=e.getAttribute("class");r=r||"",T(t)&&(t=t.join(" ")),t=r+" "+t,e.setAttribute("class",F(t))},q=Array.prototype.forEach||function(e,t){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;var r,n=this.length>>>0;for(r=0;r<n;++r)r in this&&e.call(t,this[r],r,this)},L=function(e,t,r,n,i){var s=n?n+"-":"",l;return s+=e+"-"+u.count,l=r.querySelector(e),l?M(e,t,l.textContent,s,t.firstChild):(l=t.querySelector(e),l?l.setAttribute("id",s):i?(console.log("add default"),M(e,t,n,s,t.firstChild)):s=""),s},M=function(e,r,i,s,l){var a,o=r.querySelector(e);return a=t.createElementNS(n,e),a.appendChild(t.createTextNode(i)),a.setAttribute("id",s),r.insertBefore(a,l),o&&o.parentNode.removeChild(o),a},r}();"object"==typeof angular?angular.module("svginjector",[]).provider("svgInjectorOptions",function(){var e={};return{set:function(t){e=t},$get:function(){return e}}}).factory("svgInjectorFactory",["svgInjectorOptions",function(e){return new r(e)}]).directive("svg",["svgInjectorFactory",function(e){var t=e.getConfig();return{restrict:"E",link:function(r,n,i){i.class&&i.class.indexOf(t.spriteClassIdName)>=0?i.$observe("class",function(){e.inject(n[0])}):(i.dataSrc||i.src)&&e.inject(n[0])}}}]):"object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):"object"==typeof e&&(e.SVGInjector=r)}(window,document),(new SVGInjector).inject(document.querySelectorAll("svg[data-src]")),jQuery;